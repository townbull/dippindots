#!/bin/bash

# archive files or directories to remotes

if [[ -z $1 ]]; then
    "Tell me what to archive"
    exit 1
elif [[ -z $2 ]]; then
    "Tell me where to archive to"
    exit 1
fi

TARGETS=svalbard:/mnt/outerspace svalbard:/mnt/databank anarres:/mnt/crust

for TARGET in $TARGETS; do
    dest=${USER}@${TARGET}/${2}
    echo -e "\n\nSyncing to ${dest}...\n\n"
    rsync -avuhz --progress $1 $dest
done
